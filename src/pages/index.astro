---
const runtime = Astro.locals.runtime
const {

	CDN,
	ENDPOINT,
	PROJECT

} = runtime.env

import { homeAPI } from "../api/home/index"

const data = await homeAPI()

const { home_data, work, projects, blogs, pricing } = data

// NETWORK CALL FOR TECH STACK
const stack_data = await fetch( ENDPOINT + "stack" )
const stack_data_json = await stack_data.json()
const tech_stack = stack_data_json.data.stack

// IMPORTING LAYOUTS
import Layout from "@/layouts/layout/index.astro"

// IMPORTING COMPONENTS
import Header from "@/components/common/header/index.jsx"
import Hero from "@/components/home/hero/index.astro"
import About from "@/components/home/about/index.astro"
import HowWeWork from "@/components/home/how-we-work/index.astro"
import Clients from "@/components/home/clients/index.astro"
import Projects from "@/components/home/projects/index.astro"
import TechStack from "@/components/home/tech-stack/index.astro"
import Blogs from "@/components/home/blogs/index.astro"
import Pricing from "@/components/home/pricing/index.astro"
import Footer from "@/components/common/footer/index.astro"
---
<Layout
	title="Home | Blupp Company"
	description="Blupp Company"
	image=""
>
	<section class="md:h-screen md:max-h-screen">
		<Header client:load />
		<Hero data={ home_data.hero } />
	</section>
	<About
		CDN={ CDN }
		PROJECT={ PROJECT }
		data={ home_data.about }
	/>
	<HowWeWork
		data={ home_data.how_we_work }
		work={ work }
	/>
	<TechStack
		data={ home_data.tech_stack }
		tech_stack={ tech_stack }
		CDN={ CDN }
		PROJECT={ PROJECT }
	/>
	<Clients
		data={ home_data.clients }
		CDN={ CDN }
		PROJECT={ PROJECT }
	/>
	<Pricing
		data={ home_data.pricing }
		pricing={ pricing }
	/>
	<!-- <Projects
		data={ home_data.projects }
		projects={ projects }
	/>
	<Blogs
		data={ home_data.blogs }
		blogs={ blogs }
		CDN={ CDN }
		PROJECT={ PROJECT }
	/> -->
	<Footer />
</Layout>
