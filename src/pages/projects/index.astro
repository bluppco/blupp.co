---
// NETWORK CALL
const data = await fetch( "https://staging.api.blupp.co/projects" )
const data_json = await data.json()
const projects = data_json.data.projects

if( data.status !== 200 ){

    return Astro.redirect("/")

}

// IMPORTING LAYOUTS
import Layout from "../../layouts/Layout.astro"

// IMPORTING COMPONENTS
import Header from "@/components/common/header/index.astro"
import Footer from "@/components/common/footer/index.astro"
import AllProjects from "@/components/projects/all/index.astro"
---
<Layout
    title="Projects | Blupp Company"
    description="Projects | Blupp Company"
    image=""
>
    <Header />
    <AllProjects data={ projects } />
    <Footer />
</Layout>
